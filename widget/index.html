<!DOCTYPE html>
<html lang="en" ng-app="socialPluginWidget">
<head>

    <!-- CSS -->
    <link rel="stylesheet" href="../../../styles/bootstrap.css">
    <link rel="stylesheet" href="../../../styles/appStyle.css">
    <link rel="stylesheet" href="../../../styles/siteIcons.css">
    <link rel="stylesheet" href="../../../styles/helper.css">
    <link rel="stylesheet" href="../../../styles/transitionAnimation.css">

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- JS -->
    <script src="../../../scripts/jquery/jquery-1.11.2.min.js"></script>
    <script src="../../../scripts/buildfire.js"></script>
    <script src="../../../scripts/angular/angular.min.js"></script>
    <script src="../../../scripts/angular/angular-route.min.js"></script>
    <script src="../../../scripts/angular/ui-bootstrap.min.js"></script>
    <script src="assets/js/ng-file-upload.min.js"></script>
    <script src="assets/js/ng-file-upload-shim.min.js"></script>
    <script src="assets/js/moment.js"></script>
    <script src="modals.js"></script>
    <script src="app.js"></script>
    <script src="assets/js/ng-infinite-scroll.custom.js"
            type="application/javascript"></script>
    <script src="../../../scripts/angular/angular-animate.min.js"></script>
    <script src="app.service.js"></script>
    <script src="enums.js"></script>
    <script src="assets/js/filters.js"></script>
    <script src="controllers/widget.wall.controller.js"></script>
    <script src="controllers/widget.thread.controller.js"></script>

    <script>
        moment().format();
    </script>
    <!-- Meta -->
    <meta charset="utf-8">
</head>
<body class="scrollable">
<div class="main_view">
    <div  ng-show="showThread" ng-controller="WidgetWallCtrl as WidgetWall">
        <div class="slide content" ng-style="{'height': WidgetWall.height ? WidgetWall.height+ 'px' : '596px'}">
            <div class="holder padding-zero has-bottom">
                <div class="social-plugin social-wall">
                    <div class="padded head-btn text-center border-bottom-grey padding-bottom-ten margin-bottom-fifteen">
                        <a ng-click="WidgetWall.followUnfollow(WidgetWall.getFollowingStatus())" >{{WidgetWall.getFollowingStatus()}}</a>
                    </div>
                    <div style="overflow-y: scroll"
                         ng-style="{'height': WidgetWall.height ? WidgetWall.height+ 'px' : '596px'}"
                         class="infinite-scroll-parent">
                        <div infinite-scroll-distance="0"
                             data-infinite-container=".infinite-scroll-parent"
                             infinite-scroll="WidgetWall.SocialItems.posts()"
                             infinite-scroll-disabled="WidgetWall.SocialItems.busy">
                            <div class="social-item clearfix" ng-repeat="post in WidgetWall.SocialItems.items">
                                <hr class="small">
                                <div class="head row clearfix padding-left-ten padding-right-ten margin-bottom-fifteen">
                                    <div class="col-xs-8 pull-left">
                                        <div class="media-holder pull-left" ng-click="WidgetWall.buildfire.auth.openProfile(post.userId)">
                                            <img ng-src="{{WidgetWall.getUserImage(post.userId)}}">
                                        </div>
                                        <p class="text-primary ellipsis margin-top-ten margin-bottom-zero padding-left-ten">
                                            <a class="text-primary" ng-click="WidgetWall.buildfire.auth.openProfile(post.userId)">{{WidgetWall.getUserName(post.userId)}}</a>
                                        </p>
                                    </div>
                                    <div class="col-xs-3 pull-right margin-top-ten text-right">
                                        <span class="time-ago opacity-seventy">{{WidgetWall.getDuration(post.createdOn) | convertTimeFormat}}</span>
                                    </div>
                                </div>
                                <a href="#" class="btn-delete-icon btn-danger" ng-click="WidgetWall.deletePost(post._id)" ng-if="WidgetWall.SocialItems.userDetails.userId == post.userId" style="float: right;margin-right: 5px;z-index: 1 !important;"></a>
                                <div class="copy padding-left-ten padding-right-ten margin-bottom-fifteen">
                                    <p class="margin-zero cursor-pointer" ng-click="WidgetWall.goInToThread(post.uniqueLink)">{{post.text | limitTo : (post.limit || 150) :0}}
                                        <snap ng-if="(post.text.length>150 && !post.seeMore)">...</snap>
                                        <a ng-if="(post.text.length>150 && !post.seeMore)"
                                           ng-click="WidgetWall.seeMore(post)">Read
                                            More</a></p>
                                </div>
                                <div class="plugin-banner clearfix margin-bottom-fifteen" ng-if="post.imageUrl">
                                    <div class="plugin-slide text-center">
                                        <a href="#/thread/{{post.uniqueLink}}"><img ng-src="{{post.imageUrl | cropImage :342 : 193}}"></a>
                                    </div>
                                </div>
                                <div class="footer margin-bottom-ten clearfix">
                                    <div class="icons col-xs-3 padding-right-zero padding-left-ten pull-left">
                                        <a class="social-icon" ng-click="WidgetWall.likeThread(post, 'thread')">
                                            <span class="icon icon-heart" ng-class="{active: !WidgetWall.isLikedByLoggedInUser(post._id)}"></span>
                                        </a>
                                        <a href="#/thread/{{post.uniqueLink}}" class="social-icon margin-left-twenty">
                                            <span class="icon icon-bubble"></span>
                                        </a>
                                    </div>
                                    <div class="status col-xs-9 padding-left-zero padding-right-ten pull-right">
                                        <div class="pull-right">
                                            <p class="pull-left margin-bottom-zero">{{post.likesCount}} Likes</p>

                                            <p class="pull-left margin-bottom-zero margin-left-twenty">
                                                {{post.commentsCount}}
                                                Comments</p>
                                            <a class="more-info" ng-click="WidgetWall.showMoreOptions(post._id)">
                                                <span class="pull-left icon icon-ellipsis margin-left-twenty"></span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="holder padding-zero bottom-post bodyBackgroundTheme">
            <hr class="small">
            <div class="post-holder clearfix">
                <div class="add-media">
                    <a>
                    <span class="icon icon-camera2 text-primary" ngf-select="WidgetWall.uploadImage()"
                          ng-model="WidgetWall.picFile" ngf-pattern="'image/*'" ngf-multiple="false"
                          ngf-accept="'image/*'" accept="image/*" ngf-max-size="10MB" ngf-allow-dir="true"
                          name="files"></span>
                    </a>
                </div>
                <div class="add-message pull-left">
                    <input type="text" class="form-control" placeholder="Type your message..." name="text"
                           ng-model="WidgetWall.postText">
                </div>
                <div class="send-message">
                    <input type="button" class="text-primary" value="Send" ng-click="WidgetWall.createPost()">
                </div>
            </div>
        </div>
    </div>
    <div class="content" ng-view="" ng-hide="showThread"></div>
</div>
</body>
</html>